# 河內塔 (Tower of Hanoi)

## 問題描述

河內塔是一個經典的遞迴問題，由法國數學家愛德華·盧卡斯於1883年發明。

### 規則
1. 有三根柱子：起始柱(A)、輔助柱(B)、目標柱(C)
2. 起始柱上有n個大小不同的圓盤，大盤在下，小盤在上
3. 目標：將所有圓盤從起始柱移動到目標柱
4. 限制：
   - 每次只能移動一個圓盤
   - 大圓盤不能放在小圓盤上面

## 結構分析

### 資料結構
- **輸入**: 圓盤數量 n，起始柱 source，輔助柱 auxiliary，目標柱 destination
- **輸出**: 移動步驟的序列

### 演算法類型
- **分治法 (Divide and Conquer)**
- **遞迴 (Recursion)**

## 演算法流程

### 遞迴思路
要將 n 個圓盤從 A 移到 C：

1. **基礎情況**: 如果 n = 1，直接將圓盤從 A 移到 C
2. **遞迴情況**: 如果 n > 1：
   - 將上面 n-1 個圓盤從 A 移到 B（使用 C 作為輔助）
   - 將最大的圓盤從 A 移到 C
   - 將 n-1 個圓盤從 B 移到 C（使用 A 作為輔助）

### 步驟詳解
```
hanoi(n, A, B, C):
    if n == 1:
        print "移動圓盤從", A, "到", C
    else:
        hanoi(n-1, A, C, B)  // 將n-1個圓盤移到輔助柱
        print "移動圓盤從", A, "到", C  // 移動最大圓盤
        hanoi(n-1, B, A, C)  // 將n-1個圓盤移到目標柱
```

## 複雜度分析

### 時間複雜度
- **O(2^n)**: 每增加一個圓盤，移動次數約增加一倍
- 精確公式：2^n - 1 次移動

### 空間複雜度
- **O(n)**: 遞迴深度為 n，需要 n 層函數調用堆疊

## 數學背景

### 移動次數公式
- n 個圓盤需要移動 2^n - 1 次
- 例如：3個圓盤需要 2^3 - 1 = 7 次移動

### 實際應用
- 演算法設計教學
- 遞迴概念的典型例子
- 問題分解和解決的示範

## 範例執行

### 3個圓盤的移動順序
```
初始狀態: A[3,2,1] B[] C[]

1. 移動圓盤1從A到C: A[3,2] B[] C[1]
2. 移動圓盤2從A到B: A[3] B[2] C[1]
3. 移動圓盤1從C到B: A[3] B[2,1] C[]
4. 移動圓盤3從A到C: A[] B[2,1] C[3]
5. 移動圓盤1從B到A: A[1] B[2] C[3]
6. 移動圓盤2從B到C: A[1] B[] C[3,2]
7. 移動圓盤1從A到C: A[] B[] C[3,2,1]
```

## 程式實作要點

1. **遞迴函數設計**: 清楚定義基礎情況和遞迴情況
2. **參數傳遞**: 正確傳遞圓盤數量和三根柱子
3. **輸出格式**: 清楚顯示每一步的移動
4. **錯誤處理**: 檢查輸入的有效性